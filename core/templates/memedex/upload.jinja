{% extends "memedex_theme/base.jinja" %}

{% block mount %}
<script type="module">
import * as Vue from "vue"
import { createPinia } from "pinia"

import UploadPage from "memedex/pages/upload-page"

document.addEventListener("DOMContentLoaded", () => {
  const element = document.querySelector("#upload-attachment");
  if (element !== null) {
  	const pinia = createPinia()
    const app = Vue.createApp({
	  template: `
		<upload-page></upload-page>
	  `,
	});

    // register your components
	app.component('upload-page', UploadPage)
	app.use(pinia);
	window.pinia = pinia;

    app.mount("#upload-attachment");
  }
});
</script>
{% endblock %}

{% block content %}
<div id="upload-attachment">
</div>

{% endblock %}
